<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.care.library.info.InfoMapper">
  	<resultMap type="com.care.library.info.NoticeDTO" id="noticeDto">
  		<result column = "file_name" property = "fileName"/>
  		<result column = "image_name" property = "imageName"/>
  		<result column = "write_date" property = "writeDate"/>
  	</resultMap>
  	
  	<select id = "findMaxNum">
  		SELECT MAX(no) FROM notice
  	</select>
  	
  	<insert id = "writeNotice">
  		INSERT INTO notice (no, title, content, file_name, writer, write_date, hits, image_name) VALUES (#{no}, #{title}, #{content}, #{fileName}, #{writer}, #{writeDate}, #{hits}, #{imageName})
  	</insert>
  	
  	<select id = "selectAllNotice" resultMap="noticeDto">
  		SELECT AAA.* FROM (SELECT rownum as rn, notice.* FROM notice ORDER BY no DESC)AAA WHERE AAA.rn BETWEEN #{begin} AND #{end}
  	</select>
  	
  	<select id = "count">
  		SELECT count(no) FROM notice
  	</select>
  	
  	<select id="selectNoticeContent" resultMap="noticeDto">
  		SELECT * FROM notice WHERE no = #{no}
  	</select>
  	
  	<update id="updateNoticeHit">
  		UPDATE notice SET hits = hits+1 WHERE no = #{no}
  	</update>
  	
  	<delete id="deleteNotice">
  		DELETE notice WHERE no = #{no}
  	</delete>
  	
  	<select id = "findMaxNumFaq">
  		SELECT MAX(no) FROM faq
  	</select>
  	
  	<insert id="writeFaq">
  		INSERT INTO faq (no, category, title, content) VALUES (#{no}, #{category}, #{title}, #{content})
  	</insert>
</mapper>



  